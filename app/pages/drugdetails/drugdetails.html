<!--
  Generated template for the DrugdetailsPage page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->

<ion-header>
  <!--
  <ion-navbar>
    <ion-title>Drug Details</ion-title>
  </ion-navbar> --->

  <ion-navbar primary>

    <button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title center>Drug Details </ion-title>
  
    </ion-navbar>
    <ion-toolbar dark>
        <ion-segment>
        
          <ion-segment-button value="inventory">
            Current  Inventory Levels of  :  {{vwdrug.drugname}}
          </ion-segment-button>
        </ion-segment>
    
    </ion-toolbar>
</ion-header>




<ion-content padding>

  <div *ngIf="searching" class="spinner-container">
    <ion-spinner></ion-spinner>
  </div>


<ion-card>

  <ion-card-header class="bar">
      
  </ion-card-header>


  <ion-card-content>
     <ion-grid>
        <ion-row responsive-sm>
            
            <ion-col width-20 style="text-align:left">
              <img src= "img/details/{{vwdrug.drugtype}}.png" alt="Poster" class="customized-image">
              <p style="text-align:center"><strong>{{vwdrug.drugname}} - {{vwdrug.drugtype}} </strong></p>
              <p style="text-align:center"><i>{{vwdrug.mfgcode}} </i></p><br>
            </ion-col> 
            
            <ion-col width-30 style="text-align:left">
              <ion-item class="item-thumbnail-left item-text-wrap">
                  <p><i>Constituents: &nbsp; {{vwdrug.constituents}}</i></p><br>
                  <p><i>Schedule Drug: &nbsp; {{vwdrug.scheduledrug}}</i></p><br> 
                  <p><i>Rack Position: &nbsp;{{vwdrug.rackposition}}</i></p><br>
                  <p><i>Re-Order Qty: &nbsp; {{vwdrug.minqty}} {{vwdrug.drugtype}}(S) </i></p><br>
                  <p><i>Available Qty: &nbsp;<strong>{{vwdrug.availabledrugqty}} {{vwdrug.drugtype}}(S)</strong></i></p>
              </ion-item>
            </ion-col>

            <ion-col width-50 style=" text-align:left">
              <ion-item class="item-thumbnail-left item-text-wrap">

              </ion-item>
            </ion-col> 
        </ion-row>
     </ion-grid>       
  </ion-card-content>
</ion-card>     



<ion-card>
  <ion-card-header class="bar">
   <strong> Current Stock Position by Supplier :</strong>
  </ion-card-header>

  <ion-card-content>

      <div class="warning" *ngIf="lbatchcount < 1">
          <ion-item>
            <strong> {{vwdrug.drugname}} &nbsp; stock is not available in the store, please place an order by navigating via. order book (URL)</strong>
          </ion-item>
      </div>


    <div *ngIf="lbatchcount > 0">
      <ion-item-group  *ngFor="let supplier of vwdrug.suppliers">
  
        <ion-item-divider light>{{supplier.name}}</ion-item-divider>
        <ion-item *ngFor="let batch of supplier.batches">
                    <p><ion-icon name="ios-barcode"></ion-icon>&nbsp; &nbsp;<i>Batch# : &nbsp; {{batch.batchno}}</i></p><br>
                    <p><ion-icon name="calendar"></ion-icon> &nbsp; &nbsp;<i>Expiry Date : &nbsp;{{batch.expirydate}}</i></p><br>
                    <p><ion-icon name="ios-flask"></ion-icon> &nbsp; &nbsp; <i>Available Qty: &nbsp;{{batch.availablebatchqty}} &nbsp;{{batch.drugtype}}</i></p><br>
                    <p><ion-icon name="pricetags"></ion-icon>&nbsp; &nbsp;<i>MRP: &nbsp;{{batch.mrp}} &nbsp; (RS) </i></p><br>
                    <p><ion-icon name="document"></ion-icon> &nbsp; &nbsp; Invoice# : <a id="invoicelink" title="Click to do something"  href="#" onclick="MyFunction();return false;"><i>&nbsp;{{batch.invoiceno}}</i></a></p>
                  <hr>
        </ion-item>
      </ion-item-group>
    </div>

  </ion-card-content>
 </ion-card>
<!---
 <ion-card>
<ion-card-header class="bar">
   <strong>Sample Test</strong>
  </ion-card-header>

  <ion-card-content>
     <ion-list >
        <ion-item-sliding *ngFor="let batch of vwdrug.batches" [hidden]="batch.hide">
           <ion-item>
             <ion-row>
                <div class="row">
                    <ion-col width-20><div class="col"><strong>Batch# : &nbsp; {{batch.batchno}}</strong></div></ion-col>
                    <ion-col width-20><div class="col"><p><i>Expiry Date : &nbsp;{{batch.expirydate}}</i></p></div></ion-col>
                    <ion-col width-20><div class="col"><p><i>Supplier Name: &nbsp; {{batch.suppliername}}</i></p></div></ion-col>
                    <ion-col width-20><div class="col"><p><i>MRP: &nbsp;{{batch.mrp}}</i></p></div></ion-col>
                    <ion-col width-20><div class="col"><p><i>Invoiceno: &nbsp;{{batch.invoiceno}}</i></p></div></ion-col>
                </div>
             </ion-row>  
          </ion-item>
        </ion-item-sliding>
     </ion-list>
  </ion-card-content>
 </ion-card>
--->
<!--

 <p><i>Expiry Date : &nbsp;<strong>{{batch.expirydate}}</i></p><br>
                <p><i>Supplier Name: &nbsp; {{batch.suppliername}}</i></p><br>
                <p><i>Available Qty: &nbsp;{{batch.availablebatchqty}}</i></p><br>
                <p><i>MRP: &nbsp;{{batch.mrp}}</i></p><br>
                <p><i>Invoiceno: &nbsp;{{batch.invoiceno}}</i></p>


 <ion-item-sliding *ngFor="let batch of vwdrug.batches" [hidden]="batch.hide">

      <ion-item>
            <ion-avatar item-left>
                <img src= "img/{{batch.drugtype}}.png" />
              </ion-avatar>
              <h2><strong> {{batch.drugname}}</strong></h2>
              <h4>Drug Type:<strong>{{batch.drugtype}}</strong></h4>
              <p>{{batch.batchno}}</p>
      </ion-item>

  </ion-item-sliding>
---->



<!--
<ion-card>
<ion-card-header class="bar">
   <strong> Stock Position</strong>
  </ion-card-header>


  <ion-card-content>
    <ion-item-group *ngFor="let group of groupedContacts">
 
      <ion-item-divider light>{{group.letter}}</ion-item-divider>
      <ion-item *ngFor="let contact of group.contacts">{{contact}}</ion-item>
 
    </ion-item-group>
  </ion-card-content>
 </ion-card>
--->
</ion-content>